<!DOCTYPE html>

<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
</head>

<body style="margin: 0px">
  <div style="overflow: hidden">
    <div style="height: 100%; padding: 0px 0px; background: #666666;">
      <!-- I can reproduce the cropping weirdness with either padding or margin here  -->
      <iframe src="./?puzzle=170106" data-content-path="./app/xml_samples" style="border-width: 0px; overflow: hidden"></iframe>
      <!--  -->
    </div>
  </div>

    <script type="text/javascript">
    setIFrameToFillAvailableSpace();
    window.addEventListener('resize', () => {
      // When I run in Chrome device emulator, this doesn't appear to fire ever
      console.log('JCB Resize handler: vorlon.html (about to set iframe to fill available space)');
      //setIFrameToFillAvailableSpace();
    });

    function setIFrameToFillAvailableSpace() {

        let iframe = document.querySelector('iframe');

        let existingIFrameTop = iframe.getBoundingClientRect().top;
        let existingIFrameLeft = iframe.getBoundingClientRect().left;

        var windowHeight = window.innerHeight;
        var windowWidth = window.innerWidth;

        let desiredHeight = windowHeight - existingIFrameTop;
        let desiredWidth = windowWidth - (existingIFrameLeft * 2);

        console.log('   setIFrameToFillAvailableSpace, iframe set to ', desiredWidth, desiredHeight - 4, );

        iframe.style.height = `${desiredHeight - 4}px`;
        iframe.style.width = `${desiredWidth}px`;
    }
    </script>
</body>

</html>